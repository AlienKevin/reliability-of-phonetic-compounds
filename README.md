# Reliability of Phonetic Compounds in Common Chinese Characters

## Build This Project
1. [Install Rust-lang](https://www.rust-lang.org/tools/install) on your machine
2. Uncomment the function(s) you want to run in `main.rs`
3. At the root of this project, run `cargo run` to execute `main.rs`
4. You should see results printed in the console or files being updated in the `data/` and `results/` folders

## License
[Creative Commons Attribution 4.0 International (CC BY 4.0)](https://creativecommons.org/licenses/by/4.0/deed.en)
You are welcome to share, reuse, remix, transform, and build upon all the code and data used in this project as long as you attribute the author, with the exception of two data files:

The copyright of `data/phonetics_simplified.tsv` is held by the authors of the following paper:
```
Hú Rènfèn, Cáo Bīng, and Dù Jiànyī. 2013. “Research on Phonetic Symbols of Phonograms in Chinese Mandarin 现代汉字形声字声符在普通话中的表音度测查.” 中文信息学报 27 (03): 41–47.
```

The copyright of `data/phonetics_traditional.tsv` is held by the authors of the following paper:
```
Chang Chia-Hui, Lin Shu-Yen, Li Shu-Ying, Tsai Meng-Feng, Li Shu-Ping, Liao Hsiang-Mei, Sun Chih-Wen, and Norden E. Huang. 2010. “Annotating Phonetic Component of Chinese Characters Using Constrained Optimization and Pronunciation Distribution 以最佳化及機率分佈標記形聲字聲符之研究.” In International Journal of Computational Linguistics & Chinese Language Processing, Volume 15, Number 2, June 2010. https://aclanthology.org/O10-4004.
```
We thank them for allowing us to reuse their data in this project.

## Notable differences between SPC and TPC
|字|审订后是不是形声字？|北京师范声旁|声旁是不是包含在构形拆分中？|中央大学声旁|声旁是不是包含在构形拆分中？|造字方法|结构类型|构形模式|构形拆分|审定声旁|解释|
|-|-|-|-|-|-|-|-|-|-|-|-|
|新|Y|亲|Y|斤|Y|形声|⿰|义音合成|亲,斤|亲|按《漢語多功能字庫》從「斤」從「辛」，「辛」亦是聲符 |
|廷|Y|𡈼|N|－|N|形声|⿺|义音合成|壬,廴|𡈼 | 按《說文》从「廴」，「𡈼」聲。取最準確的構件「𡈼」（「挺」之古文）作為聲旁，而不是更常見的構件「壬」（干支名）|
|在|N|才|N|－|N|形声|⿸|义音合成|[𠂇丨],土|NA| 按以現代楷書字型為準，聲旁「才」已經變為筆畫組合\[𠂇丨\]，不易辨識，所以定為非形聲字 |
|肖|N|小|N|－|N|形声|⿱|义音合成|⺌,�|NA|按不收不能獨立成字的部首「⺌」為聲符|
|成|N|丁|N|－|N|形声|⿵|义音合成|戊,𠃌|NA|按不收不能獨立成字的部首「𠃌」為聲符|
|郎|Y|良|N|－|N|形声|⿰|义音合成|[丶�],阝|�|按不收不能獨立成字的部首[丶�]（良的變體）為聲符|
|莽|N|茻|N|－|N|形声|⿳|义音合成|艹,犬,廾|NA|按在現代楷書中聲符「茻」被上下隔開且同聲符獨立成字時的字型頗有差異，不易辨識，所以定為非形聲字|
|筑|N|竹|N|－|N|形声|⿱|义音合成|𥫗,巩|𥫗|按不收不能獨立成字的部首「𥫗」為聲符|
|蜈|Y|吴|Y|吳|N|形声|⿰|义音合成|虫,吴|简繁不同|按兩個聲符「吴」同「吳」互為簡繁體，取哪一個作為聲符都可以，這裡保留各自的聲符|
|异|Y|巳|Y|己|N|形声|⿱|义音合成|廾,巳|简繁不同|按同上，簡繁體字型的不同不做處理|
|均|Y|匀|Y|勻|N|形声|⿰|义音合成|土,匀|简繁不同|按同上，簡繁體字型的不同不做處理|
|妒|Y|户|Y|戶|N|形声|⿰|义音合成|女,户|简繁不同|按同上，簡繁體字型的不同不做處理|
|述|Y|术|Y|朮|N|形声|⿺|义音合成|辶,术|简繁不同|按同上，簡繁體字型的不同不做處理|
|捌|Y|别|Y|別|N|形声|⿰|义音合成|扌,别|简繁不同|按同上，簡繁體字型的不同不做處理|
|氯|Y|录|Y|彔|N|形声|⿹|义音合成|气,录|简繁不同|按同上，簡繁體字型的不同不做處理|
|窗|Y|囱|Y|囪|N|形声|⿱|义音合成|穴,囱|简繁不同|按同上，簡繁體字型的不同不做處理|
|雇|N|户|N|戶|N|会意|⿸|会义合成|𠂇,又|简繁不同|按同上，簡繁體字型的不同不做處理|
|墟|Y|虚|Y|虛|N|形声|⿰|义音合成|土,虚|简繁不同|按同上，簡繁體字型的不同不做處理|
|澳|Y|奥|Y|奧|N|形声|⿰|义音合成|氵,奥|简繁不同|按同上，簡繁體字型的不同不做處理|
|懊|Y|奥|Y|奧|N|形声|⿰|义音合成|忄,奥|简繁不同|按同上，簡繁體字型的不同不做處理|
|簧|Y|黄|Y|黃|N|形声|⿱|义音合成|𥫗,黄|简繁不同|按同上，簡繁體字型的不同不做處理|

For a list of all differences and how we handle each, see `data/phonetics_diff.tsv`.

## QXK characters without enough data
內, 勻, 戶, 冊, 產, 噸, 睏, 吶, 別, 禿, 俬, 囪, 刪, 兌, 沒, 錶, 剎, 叄, 荊, 柵, 鈣, 鈡, 鈅, 氫, 說, 絕, 閱, 悅, 鋁, 脫, 銳, 稅, 粵, 謠, 搖, 蛻, 錳, 頹, 毀, 遙, 顏, 蘋

## Changes

Note: If no source for pronunciation is mentioned, it is from the same dictionary.
For example, a dictionary may have pronunciation for a traditional variant of a character
but not for its simplified variant. When the correspondence is one-to-one, we can safely add
the missing simplified variant.

<details><summary>pinyin.csv</summary>
Source: 現代漢語詞典

Added missing simplified characters:
```
账,zhang4
浏,liu2
啰,luo1,luo2
```
Added missing traditional characters:
```
勻,yun2
內,nei4
戶,hu4
呂,lü3
兌,dui4
別,bie2,bie4
貞,zhen1
則,ze2
員,yuan2,yun2,yun4
約,yao1,yue1
軍,jun1
囪,cong1
責,ze2
頃,qing3
麼,ma5,me5,mo2
鉅,ju4
計,ji4
訂,ding4
軋,ga2,ya4,zha2
們,men5
飢,ji1
馮,feng2,ping2
閃,shan3
討,tao3
訓,xun4
訊,xun4
記,ji4
糾,jiu1
樸,piao2,po1,po4,pu3
軌,gui3
麴,qu1
嗎,ma2,ma3,ma5
歲,sui4
負,fu4
閉,bi4
問,wen4
闖,chuang3
併,bing1,bing4
訝,ya4
許,xu3
訛,e2
訟,song4
諷,feng3
設,she4
訪,fang3
訣,jue2
陣,zhen4
媽,ma1
紅,gong1,hong2
馱,duo4,tuo2
馴,xun2
級,ji2
紀,ji3,ji4
馳,chi2
紉,ren4
瑪,ma3
撫,fu3
貢,gong4
連,lian2
軒,xuan1
吶,na4,na5,ne4,ne5
財,cai2
針,zhen1
釘,ding1,ding4
禿,tu1
俬,si1
狽,bei4
飯,fan4
飲,yin3,yin4
庫,ku4
閏,run4
閑,xian2
間,jian1,jian4
悶,men1,men4
沒,mei2,mo4
証,zheng4
評,ping2
詐,zha4
訴,su4
診,zhen3
詞,ci2
純,chun2
紗,sha1
納,na4
駁,bo2
紛,fen1
紙,zhi3
紋,wen2,wen4
紡,fang3
紐,niu3
現,xian4
規,gui1
頂,ding3
楓,feng1
碼,ma3
斬,zhan3
軟,ruan3
鳴,ming2
敗,bai4
販,fan4
貶,bian3
釣,diao4
偵,zhen1
侶,lü3
側,ce4,ze4,zhai1
貨,huo4
剎,cha4,sha1
覓,mi4
貪,tan1
貧,pin2
飾,shi4
飽,bao3
飼,si4
閘,zha2
試,shi4
詩,shi1
誠,cheng2
視,shi4
話,hua4
誕,dan4
詭,gui3
詢,xun2
該,gai1
詳,xiang2
駕,jia4
叄,san1
蔘,can1,cen1,shen1
線,xian4
組,zu3
紳,shen1
細,xi4
駛,shi3
駒,ju1
終,zhong1
駐,zhu4
絆,ban4
駝,tuo2
紹,shao4
貫,guan4
貳,er4
項,xiang4
掙,zheng1,zheng4
揮,hui1
荊,jing1
葷,hun1,xun1
葯,yao4
硯,yan4
軸,zhou2,zhou4
鴉,ya1
貴,gui4
螞,ma1,ma3,ma4
勛,xun1
喲,yo1,yo5
罰,fa2
貼,tie1
貽,yi2
鈣,gai4
鈍,dun4
鈔,chao1
鈡,zhong1
鈉,na4
鈅,yao4,yue4
欽,qin1
鈞,jun1
鈕,niu3
貸,dai4
順,shun4
須,xu1
猙,zheng1
貿,mao4
餌,er3
蝕,shi2
餃,jiao3
餅,bing3
獎,jiang3
瘋,feng1
閨,gui1
聞,wen2
閩,min3
閥,fa2
閣,ge2
測,ce4
渾,hun2
宮,gong1
誡,jie4
誣,wu1
語,yu3,yu4
誤,wu4
誘,you4
誨,hui4
說,shui4,shuo1,yue4
誦,song4
費,fei4
隕,yun3
賀,he4
綁,bang3
絨,rong2
結,jie1,jie2
給,gei3,ji3
絢,xuan4
駱,luo4
絡,lao4,luo4
絕,jue2
絞,jiao3
駭,hai4
統,tong3
頑,wan2
載,zai3,zai4
損,sun3
換,huan4
蓮,lian2
賈,gu3,jia3
較,jiao4
頓,du2,dun4
鴨,ya1
暈,yun1,yun4
鴦,yang1
喚,huan4
圓,yuan2
賊,zei2
賄,hui4
賂,lu4
鉗,qian2
鉆,zuan1,zuan4
鉀,jia3
鈴,ling2
鉛,qian1,yan2
債,zhai4
傾,qing1
賃,lin4
頒,ban1
頌,song4
鴕,tuo2
鴛,yuan1
餓,e4
餒,nei3
資,zi1
閱,yue4
煩,fan2
渙,huan4
潤,run4
澗,jian4
憫,min3
悅,yue4
寬,kuan1
請,qing3
諸,zhu1
諾,nuo4
誹,fei3
課,ke4
誰,shei2,shui2
調,diao4,tiao2
諒,liang4
諄,zhun1
談,tan2
誼,yi4
剝,bao1,bo1
娛,yu2
預,yu4
絹,juan4
駿,jun4
瑣,suo3
黃,huang2
醞,yun4
碩,shuo4
輔,fu3
虛,xu1
睜,zheng1
嶄,zhan3
嬰,ying1
銬,kao4
鋁,lü3
銅,tong2
銘,ming2
銀,yin2
銜,xian2
鴿,ge1
領,ling3
脫,tuo1
餡,xian4
館,guan3
盜,dao4
閻,yan2
煥,huan4
鴻,hong2
漸,jian1,jian4
漁,yu2
慚,can2
慣,guan4
謀,mou2
諜,die2
謊,huang3
諧,xie2
謂,wei4
諺,yan4
謎,mei4,mi2
頗,po1
績,ji1
緒,xu4
騎,qi2
綽,chao1,chuo4
維,wei2
綿,mian2
綳,beng1,beng3,beng4
綢,chou2
綜,zeng4,zong1
綻,zhan4
綠,lu4,lü4
綴,zhui4
擱,ge1,ge2
暫,zan4
輩,bei4
輝,hui1
賞,shang3
噴,pen1,pen4
遺,wei4,yi2
鵑,juan1
賦,fu4
賭,du3
賜,ci4
賠,pei2
鋪,pu1,pu4
鏈,lian4
銷,xiao1
鎖,suo3
鋤,chu2
鋒,feng1
鋅,xin1
銳,rui4
鵝,e2
稅,shui4
箏,zheng1
儲,chu3
粵,yue4
奧,ao4
魯,lu3
饋,kui4
瘓,huan4
闊,kuo4
溫,wen1
潰,hui4,kui4
憤,fen4
褲,ku4
祿,lu4
謝,xie4
謠,yao2
謗,bang4
謙,qian1
緬,mian3
緝,ji1,qi1
緞,duan4
緩,huan3
締,di4
騙,pian4
編,bian1
騷,sao1
緣,yuan2
鵡,wu3
搖,yao2
鵲,que4
懞,meng1,meng2,meng3
賴,lai4
輻,fu2
輯,ji2
輸,shu1
頻,pin2
齡,ling2
蛻,tui4
錯,cuo4
錨,mao2
錫,xi1
錘,chui2
錐,zhui1
錦,jin3
鍵,jian4
鋸,ju1,ju4
錳,meng3
頹,tui2
簡,jian3
毀,hui3
遙,yao2
膩,ni4
鵬,peng2
騰,teng2
鮑,bao4
穎,ying3
饃,mo2
餾,liu2,liu4
窺,kui1
謹,jin3
謬,miu4
縛,fu4
縫,feng2,feng4
贅,zhui4
藹,ai3
轄,xia2
輾,nian3,zhan3
顆,ke1
賺,zhuan4,zuan4
鍬,qiao1
鍛,duan4
鍍,du4
輿,yu2
鮮,xian1,xian3
饅,man2
賽,sai4
譚,tan2
譜,pu3
騾,luo2
縮,su4,suo1
攆,nian3
蘊,yun4
橫,heng2,heng4
櫻,ying1
飄,piao1
題,ti2
鎮,zhen4
鎬,gao3,hao4
鎊,bang4
鯉,li3
鯽,ji4
顏,yan2
鯊,sha1
瀾,lan2
額,e2
譴,qian3
鶴,he4
繚,liao2
顛,dian1
轍,zhe2
鸚,ying1
贈,zeng4
鏡,jing4
贊,zan4
鯨,jing1
瀕,bin1
懶,lan3
繮,jiang1
繳,jiao3,zhuo2
贍,shan4
贏,ying2
驟,zhou4
囂,ao2,xiao1
鐮,lian2
鰭,qi2
鷹,ying1
巔,dian1
顫,chan4,zhan4
癬,xuan3
鱉,bie1
鱗,lin2
躪,lin4
贛,gan4
鑲,xiang1
朮,zhu2 (from 漢語大字典)
彔,lu4 (from 漢語大字典)
```
Notes on special cases:
* 「麼」: Even though 現代漢語詞典 explains 同「么」, we exclude the yao1 pronunciation here because「么」is commonly used in 么麼 yao1 mo2.
* 「鉅」: Maps to two simplified variants 巨 and 钜 (used in people and place names only). Since both variants share the same pronunciation ju4 according to 现代汉语规范字典, we list 鉅's pronunciation as ju4.
* 「麴」: Maps to two simplified variants 曲 (used in 酒曲) and 麹 (used in surnames). Since both variants share the same pronunciation qu1 according to 现代汉语规范字典, we list 麴's pronunciation as qu1.
* 「線」: Maps to two simplified variants 线 and 缐 (used in surnames only). Since both variants share the same pronunciation xian4 according to 现代汉语规范字典, we list 線's pronunciation as xian4.
* 「朮」: Not listed in 現代漢語詞典. We got the pronunciation zhu2 from 漢語大字典
* 「彔」: Not listed in 現代漢語詞典. We got the pronunciation lu4 from 漢語大字典

Added missing characters from 现代汉语规范字典:
```
禀,bing3
瓶,ping2
猴,hou2
暖,nuan3
```
</details>